<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
    Projeto : GAP
    Nome Arquivo : form.xhtml (ADMINISTRADOR)
    Autor : Marcos Castro
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/style.css"/>
        <meta http-equiv="Content-Type" content="text/html"/>
        <title>Cadastro de Usuário</title>
    </h:head>
    <h:body>
        <h3>
            <f:view encoding="ISO-8859-1"> 
                <h:form>
                    <p:growl id="growl"  sticky="false" /> 

                    <p:panel header="Editar Usuario" style="text-align: center;margin-bottom:60px;"> 
                        <center> 
                            <h:panelGrid columns="3" cellpadding="5" border="0"> 

                                <h:inputHidden value="#{usuarioAction.usuarioDTO.idUsuario}" />
                                <h:outputLabel value="" />
                                <h:outputLabel value="" />


                                <h:outputLabel value="Nome:" for="nome" />
                                <p:inputText
                                    id="nome" value="#{usuarioAction.usuarioDTO.nome}" size="27"
                                    title=" Digite seu Nome:"
                                    required="true" requiredMessage="O nome é obrigatório"
                                    validatorMessage="Nome: mínimo 3, máximo 40 caracteres." >

                                    <f:validateLength minimum="3" maximum="40"></f:validateLength>
                                </p:inputText>
                                <h:outputLabel value="" />

                                <h:outputLabel value="Email:" for="email" />      
                                <p:inputText
                                    id="email" value="#{usuarioAction.usuarioDTO.email}" 
                                    title="Digite seu Email" size="27"
                                    required="true" requiredMessage="O Email é obrigatório"
                                    validatorMessage="Email inválido ou excedeu o limite de caracteres!">
                                    <f:validateLength minimum="3" maximum="40"></f:validateLength>
                                    <f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+@[a-zA-Z0-9\-\_\.]+"/>
                                </p:inputText>
                                <h:outputLabel value="" />

                                <h:outputLabel value="Prédio:" for="predio" />
                                <p:inputText
                                    id="predio" value="#{usuarioAction.usuarioDTO.predio}" 
                                    title=" Digite o Prédio:" size="27"
                                    required="false" requiredMessage="O Prédio é obrigatório"
                                    validatorMessage="Nome: mínimo 3, máximo 40 caracteres." >

                                    <f:validateLength minimum="3" maximum="40"></f:validateLength>
                                </p:inputText>
                                <h:outputLabel value="" />

                                <h:outputLabel value="Ramal:" for="ramal" />
                                <p:inputMask id="ramal" value="#{usuarioAction.usuarioDTO.ramal}" mask="9999"
                                             title=" Digite o Ramal"
                                             required="true" size="27"
                                             requiredMessage="Ramal é obrigatorio"
                                             validatorMessage="Ramal deve conter no max 4 caracteres!"/>
                                <h:outputLabel value="" />

                                <h:outputLabel value="Login:" for="login" />
                                <p:inputText value="#{usuarioAction.usuarioDTO.login}" size="27"
                                             disabled="true" required="true" immediate="true"/>


                                <h:outputLabel value="" />

                                <h:outputLabel value="Senha:" for="senha" />
                                <p:inputText
                                    id="senha" value="#{usuarioAction.usuarioDTO.senha}"
                                    title="Digite uma Senha  " size="27"
                                    required="true" requiredMessage="A Senha é obrigatória"

                                    validatorMessage="Senha: mínimo 3, máximo 10 caracteres.">
                                    <f:validateLength minimum="3" maximum="10"></f:validateLength>
                                </p:inputText>


                                <h:outputLabel value="" />
                                <h:outputLabel value="Unidade:" for="unidadeFk" />
                                <h:selectOneMenu id="unidadeFk" 
                                                 value="#{usuarioAction.usuarioDTO.unidadeFk.idUnidade}"  
                                                 required="true" 
                                                 requiredMessage="Selecione Unidade" >
                                    <f:selectItem itemLabel="Selecione " itemValue="" noSelectionOption="true"/> 
                                    <f:selectItems value="#{unidadeAction.lista}" var="unidadeDTO" itemLabel="#{unidadeDTO.nomeUnidade}" itemValue="#{unidadeDTO.idUnidade}"  />
                                </h:selectOneMenu>

                                <h:outputLabel value="" />

                            </h:panelGrid>

                            <h:panelGrid columns="5" border="0">  



                                <h:outputLabel value="Perfil" for="perfilFk" />

                                <p:outputPanel id="customPanel" >  
                                    <p:selectOneRadio id="customRadio" disabled="true" value="#{usuarioAction.usuarioDTO.perfil}" layout="custom">  
                                        <f:selectItem itemLabel="Administrador" itemValue="Administrador" />  
                                        <f:selectItem itemLabel="Usuário Interno - Gerente" itemValue="Usuário Interno - Gerente" />  
                                        <f:selectItem itemLabel="Usuário Interno - Gestor" itemValue="Usuário Interno - Gestor" />  
                                        <f:selectItem itemLabel="Usuário Interno " itemValue="Usuário Interno " />  
                                        <f:selectItem itemLabel="Visistante" itemValue="Visitante" />  

                                    </p:selectOneRadio>  
                                    <p:panel>
                                        <h:panelGrid columns="3" border="0">  
                                            <p:radioButton id="opt1" for="customRadio" itemIndex="0"/>  
                                            <h:outputLabel for="opt1" value=" Administrador" />  
                                            <br/>
                                            <p:radioButton id="opt2" for="customRadio" itemIndex="1"/>  
                                            <h:outputLabel for="opt2" value=" Usuário Interno - Gerente" />  
                                            <br/>
                                            <p:radioButton id="opt3" for="customRadio" itemIndex="2"/>  
                                            <h:outputLabel for="opt3" value=" Usuário Interno - Gestor" />  
                                            <br/>

                                            <p:radioButton id="opt4" for="customRadio" itemIndex="3"/>  
                                            <h:outputLabel for="opt3" value=" Usuário Interno " />  
                                            <br/>

                                            <p:radioButton id="opt5" for="customRadio" itemIndex="4"/>  
                                            <h:outputLabel for="opt3" value=" Visitante" />  


                                        </h:panelGrid>  
                                    </p:panel>

                                </p:outputPanel>
                                  <h:outputLabel value="Status:" for="status"  />
                                <p:panel>
                                    <h:outputLabel value="" />
                                    <h:outputLabel value="" />
                                  
                                    <h:selectOneRadio  value="#{usuarioAction.usuarioDTO.status}"
                                                       disabled="true" >
                                        <f:selectItem itemLabel="Ativo" itemValue="0" />
                                        <f:selectItem itemLabel="Inativo" itemValue="1"/>
                                    </h:selectOneRadio>
                                </p:panel>


                                <!-- inicio - disable = true  para o valor não ir nulo -->
                                <h:inputHidden value="#{usuarioAction.usuarioDTO.login}" />
                                <h:inputHidden value="#{usuarioAction.usuarioDTO.perfil}" />
                                <h:inputHidden value="#{usuarioAction.usuarioDTO.status}" />
                                <!--fim -->

                            </h:panelGrid>

                            <h:panelGrid columns="2"  width="300"  cellpadding="5" border="0">  
                                <p:commandButton action="#{usuarioAction.gravarEditar}" value="Gravar" ajax="false"/>
                                <p:commandButton action="#{usuarioAction.cancelar}" value="Cancelar" ajax="false" immediate="true"/>
                           
                            </h:panelGrid>
                        </center><br/>
                    </p:panel>
                </h:form>
            </f:view>
        </h3>
    </h:body>
</html>